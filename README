# ğŸ½ï¸ Sistema de Atendimentos de Restaurante

Este projeto Ã© uma **API RESTful desenvolvida em .NET 8** para o gerenciamento completo de atendimentos em um restaurante, incluindo controle de **mesas, garÃ§ons, comandas e clientes**.  
O objetivo Ã© oferecer uma base sÃ³lida e escalÃ¡vel para sistemas de gestÃ£o de atendimento, integrando banco de dados Oracle e boas prÃ¡ticas de arquitetura limpa.

---

## ğŸ§­ Ãndice

1. [ğŸ§© VisÃ£o Geral](#-visÃ£o-geral)
2. [âš™ï¸ Tecnologias Utilizadas](#ï¸-tecnologias-utilizadas)
3. [ğŸ—ï¸ Estrutura do Projeto](#ï¸-estrutura-do-projeto)
4. [ğŸ—ƒï¸ Entidades Principais](#ï¸-entidades-principais)
5. [ğŸš€ ConfiguraÃ§Ã£o e ExecuÃ§Ã£o](#-configuraÃ§Ã£o-e-execuÃ§Ã£o)
6. [ğŸ§± Migrations e Banco de Dados](#-migrations-e-banco-de-dados)
7. [ğŸŒ Endpoints Principais (Swagger)](#-endpoints-principais-swagger)
8. [ğŸ’¾ Exemplo de Uso (Swagger)](#-exemplo-de-uso-swagger)
9. [ğŸ§  Regras de NegÃ³cio Implementadas](#-regras-de-negÃ³cio-implementadas)
10. [ğŸ“ˆ PrÃ³ximos Passos](#-prÃ³ximos-passos)
11. [ğŸ‘©â€ğŸ’» Autoria](#-autoria)

---

## ğŸ§© VisÃ£o Geral

O sistema foi construÃ­do com **arquitetura em camadas** seguindo o padrÃ£o *Domain-Driven Design (DDD)*, com separaÃ§Ã£o clara de responsabilidades:

- **Domain:** contÃ©m as entidades e regras de negÃ³cio puras.  
- **Application:** responsÃ¡vel pelos serviÃ§os e lÃ³gica de aplicaÃ§Ã£o.  
- **Infrastructure:** integra o banco de dados e implementa os repositÃ³rios.  
- **API:** expÃµe os endpoints REST via ASP.NET Core.

A API permite gerenciar todo o fluxo do atendimento de um restaurante, desde o cadastro de mesas atÃ© a abertura e fechamento de comandas.

---

## âš™ï¸ Tecnologias Utilizadas

| Categoria | Tecnologia |
|------------|-------------|
| Linguagem | **C# (.NET 8)** |
| Framework Web | **ASP.NET Core Web API** |
| ORM | **Entity Framework Core (Oracle Provider)** |
| Banco de Dados | **Oracle Database (FIAP Cloud)** |
| DocumentaÃ§Ã£o | **Swagger / Swashbuckle** |
| InjeÃ§Ã£o de DependÃªncia | **Built-in Dependency Injection** |
| Versionamento | **Git + GitHub** |
| Testes UnitÃ¡rios | **xUnit** (base incluÃ­da no projeto) |

---

## ğŸ—ï¸ Estrutura do Projeto

```bash
atendimentos/
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ Atendimentos.Api/                            # ğŸ¯ Camada de apresentaÃ§Ã£o (endpoints / controllers)
â”‚   â”‚   â”œâ”€â”€ Controllers/
â”‚   â”‚   â”‚   â”œâ”€â”€ MesasController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ GarconsController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ ComandasController.cs
â”‚   â”‚   â”‚   â””â”€â”€ ClientesController.cs
â”‚   â”‚   â”œâ”€â”€ Program.cs                               # ConfiguraÃ§Ã£o de serviÃ§os e DI
â”‚   â”‚   â””â”€â”€ appsettings.json                         # ConfiguraÃ§Ã£o de banco e ambiente
â”‚   â”‚
â”‚   â”œâ”€â”€ Atendimentos.Application/                    # âš™ï¸ Camada de aplicaÃ§Ã£o (serviÃ§os e DTOs)
â”‚   â”‚   â””â”€â”€ Services/
â”‚   â”‚       â”œâ”€â”€ MesaService.cs
â”‚   â”‚       â”œâ”€â”€ GarcomService.cs
â”‚   â”‚       â”œâ”€â”€ ComandaService.cs
â”‚   â”‚       â””â”€â”€ ClienteService.cs
â”‚   â”‚
â”‚   â”œâ”€â”€ Atendimentos.Domain/                         # ğŸ§© Camada de domÃ­nio (entidades e interfaces)
â”‚   â”‚   â”œâ”€â”€ Entities/
â”‚   â”‚   â”‚   â”œâ”€â”€ Mesa.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ Garcom.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ Comanda.cs
â”‚   â”‚   â”‚   â””â”€â”€ Cliente.cs
â”‚   â”‚   â””â”€â”€ Repositories/
â”‚   â”‚       â”œâ”€â”€ IMesaRepository.cs
â”‚   â”‚       â”œâ”€â”€ IGarcomRepository.cs
â”‚   â”‚       â”œâ”€â”€ IComandaRepository.cs
â”‚   â”‚       â””â”€â”€ IClienteRepository.cs
â”‚   â”‚
â”‚   â”œâ”€â”€ Atendimentos.Infrastructure/                 # ğŸ—„ï¸ Camada de infraestrutura (banco, repositÃ³rios)
â”‚   â”‚   â”œâ”€â”€ Context/
â”‚   â”‚   â”‚   â””â”€â”€ AtendimentosDbContext.cs
â”‚   â”‚   â”œâ”€â”€ Repositories/
â”‚   â”‚   â”‚   â”œâ”€â”€ MesaRepository.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ GarcomRepository.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ ComandaRepository.cs
â”‚   â”‚   â”‚   â””â”€â”€ ClienteRepository.cs
â”‚   â”‚   â””â”€â”€ Migrations/                              # MigraÃ§Ãµes do Entity Framework
â”‚   â”‚       â”œâ”€â”€ 2025xxxxxx_InitialCreate.cs
â”‚   â”‚       â”œâ”€â”€ AddGarcom.cs
â”‚   â”‚       â”œâ”€â”€ AddComandaTable.cs
â”‚   â”‚       â””â”€â”€ AddClienteTable.cs
â”‚   â”‚
â”‚   â””â”€â”€ Atendimentos.Tests/                          # ğŸ§ª Estrutura para testes unitÃ¡rios
â”‚       â””â”€â”€ (futuros testes automatizados)
â”‚
â””â”€â”€ README.md                                        # ğŸ“˜ DocumentaÃ§Ã£o do projeto

---

## ğŸ—ƒï¸ Entidades Principais

### ğŸª‘ Mesa
- `Numero`
- `Capacidade`
- `Status` (DisponÃ­vel, Ocupada, Reservada)
- `Localizacao`
- `QrCode`

### ğŸ§‘â€ğŸ³ GarÃ§om
- `Nome`
- `Matricula`
- `Telefone`
- `DataContratacao`
- `Ativo`

### ğŸ§¾ Comanda
- `MesaId`
- `GarcomId`
- `ClienteId`
- `Status`
- `DataHoraAbertura`
- `DataHoraFechamento`
- `ValorTotal`

### ğŸ‘¤ Cliente
- `Nome`
- `CPF`
- `Telefone`
- `DataCadastro`

---

## ğŸš€ ConfiguraÃ§Ã£o e ExecuÃ§Ã£o

### 1ï¸âƒ£ Restaurar dependÃªncias
```bash
dotnet restore

2ï¸âƒ£ Compilar o projeto
bash
Copiar cÃ³digo
dotnet build

3ï¸âƒ£ Rodar as migrations
bash
Copiar cÃ³digo
dotnet ef database update --project src/Atendimentos.Infrastructure --startup-project src/Atendimentos.Api

4ï¸âƒ£ Executar a API
bash
Copiar cÃ³digo
dotnet run --project src/Atendimentos.Api
Acesse em:
ğŸ‘‰ http://localhost:5070/swagger


ğŸ§± Migrations e Banco de Dados
A aplicaÃ§Ã£o utiliza Entity Framework Core com Oracle.
Cada entidade possui uma migration associada.

Comandos Ãºteis:
bash
Copiar cÃ³digo

# Criar uma nova migration
dotnet ef migrations add NomeDaMigration --project src/Atendimentos.Infrastructure --startup-project src/Atendimentos.Api

# Atualizar o banco
dotnet ef database update --project src/Atendimentos.Infrastructure --startup-project src/Atendimentos.Api

# Apagar o banco (caso queira recriar)
dotnet ef database drop --project src/Atendimentos.Infrastructure --startup-project src/Atendimentos.Api
ğŸŒ Endpoints Principais (Swagger)

ğŸª‘ Mesas
MÃ©todo	Endpoint	DescriÃ§Ã£o
GET	/api/mesas	Lista todas as mesas
POST	/api/mesas	Cria uma nova mesa
PUT	/api/mesas/{id}	Atualiza dados da mesa
PUT	/api/mesas/{id}/status	Atualiza status da mesa
DELETE	/api/mesas/{id}	Remove uma mesa

ğŸ§‘â€ğŸ³ GarÃ§ons
MÃ©todo	Endpoint	DescriÃ§Ã£o
GET	/api/garcons	Lista todos os garÃ§ons
POST	/api/garcons	Cadastra um novo garÃ§om

ğŸ§¾ Comandas
MÃ©todo	Endpoint	DescriÃ§Ã£o
POST	/api/comandas	Abre uma nova comanda
GET	/api/comandas	Lista todas as comandas
PUT	/api/comandas/{id}/fechar	Fecha uma comanda
DELETE	/api/comandas/{id}	Remove uma comanda

ğŸ‘¤ Clientes
MÃ©todo	Endpoint	DescriÃ§Ã£o
POST	/api/clientes	Cria um novo cliente
GET	/api/clientes	Lista todos os clientes
GET	/api/clientes/{id}	Busca um cliente pelo ID
DELETE	/api/clientes/{id}	Remove um cliente

ğŸ’¾ Exemplo de Uso (Swagger)
Criar Cliente
json
Copiar cÃ³digo
POST /api/clientes
{
  "nome": "Maria Eduarda Araujo Penas",
  "cpf": "12345678900",
  "telefone": "11999998888"
}
Criar Mesa
json
Copiar cÃ³digo
POST /api/mesas
{
  "numero": 3,
  "capacidade": 4,
  "localizacao": "Varanda"
}
Criar GarÃ§om
json
Copiar cÃ³digo
POST /api/garcons
{
  "nome": "Carlos Silva",
  "matricula": "G001",
  "telefone": "11911112222"
}
Abrir Comanda
bash
Copiar cÃ³digo
POST /api/comandas?mesaId={mesa-guid}&garcomId={garcom-guid}

ğŸ§  Regras de NegÃ³cio Implementadas
Cada mesa possui status controlado (DisponÃ­vel, Ocupada, Reservada).

Uma comanda pode ser aberta apenas se a mesa estiver disponÃ­vel.

GarÃ§ons ativos podem abrir comandas.

Clientes podem ser vinculados a comandas.

Controle de timestamps de criaÃ§Ã£o e atualizaÃ§Ã£o automÃ¡ticos.

Todas as relaÃ§Ãµes possuem integridade referencial (FKs com restriÃ§Ãµes Oracle).


ğŸ‘©â€ğŸ’» Autoria
Desenvolvido por:
ğŸ’» Maria Eduarda Araujo Penas
ğŸ“§ eduarda.mpenas.com
ğŸ™ GitHub: https://github.com/DudaAraujo14

Orientado para:
ğŸ“š Projeto acadÃªmico FIAP â€” Engenharia de Software
ğŸ—“ï¸ Outubro / 2025